<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{{ page.title }} ‚Äî {{ site.title }}</title>
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/style.css" />
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/dark.css" />
  </head>
  <body>
    <div class="container">
      <!-- Bouton toggle dark/light mode ++ -->
      <div class="toggle-switch">
        <input type="checkbox" id="theme-toggle" />
        <label for="theme-toggle" class="switch-label">
          <span class="switch-thumb"></span>
          <span class="switch-track">
            <span class="icon light">‚òÄÔ∏è</span>
            <span class="icon dark">üåô</span>
          </span>
        </label>
      </div>

      <header>
        <h1><a href="{{ site.baseurl }}/">{{ site.title }}</a></h1>
        <nav>
          <a href="{{ site.baseurl }}/">Accueil</a>
          <a href="{{ site.baseurl }}/images-gallery.html">Galerie</a>
          <a href="{{ site.baseurl }}/routes.html">API</a>
        </nav>
      </header>

      <main>{{ content }}</main>

      <footer>
        Projet de Fin de Batch #165 ‚Äì Amel, Nico, Sami, Sofiane, St√©phane ‚Äì ¬©
        Mai 2025
      </footer>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const root = document.documentElement
        const toggle = document.getElementById("theme-toggle")
        const stored = localStorage.getItem("theme")
        if (
          stored === "dark" ||
          (!stored && window.matchMedia("(prefers-color-scheme: dark)").matches)
        ) {
          root.classList.add("dark-mode")
          toggle.checked = true
        }
        toggle.addEventListener("change", function () {
          const isDark = root.classList.toggle("dark-mode")
          localStorage.setItem("theme", isDark ? "dark" : "light")
        })
      })
    </script>
  </body>
</html>
